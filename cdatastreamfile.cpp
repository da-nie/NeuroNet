//****************************************************************************************************
//подключаемые библиотеки
//****************************************************************************************************
#include "cdatastreamfile.h"

//****************************************************************************************************
//глобальные переменные
//****************************************************************************************************

//****************************************************************************************************
//константы
//****************************************************************************************************

//****************************************************************************************************
//макроопределения
//****************************************************************************************************

//****************************************************************************************************
//конструктор и деструктор
//****************************************************************************************************

//----------------------------------------------------------------------------------------------------
//конструктор
//----------------------------------------------------------------------------------------------------
CDataStreamFile::CDataStreamFile(std::string file_name,bool write)
{ 
 Fail=false;
 if (write==true) 
 {
  StreamOut.open(file_name.c_str(),std::ios_base::out|std::ios_base::binary); 
  if (StreamOut.is_open()==false) Fail=true;
 }
 else
 {
  StreamIn.open(file_name.c_str(),std::ios_base::in|std::ios_base::binary); 
  if (StreamIn.is_open()==false) Fail=true;
 }
}
//----------------------------------------------------------------------------------------------------
//деструктор
//----------------------------------------------------------------------------------------------------
CDataStreamFile::~CDataStreamFile()
{
}

//****************************************************************************************************
//закрытые функции
//****************************************************************************************************

//****************************************************************************************************
//открытые функции
//****************************************************************************************************

//----------------------------------------------------------------------------------------------------
//загрузка числа типа int8_t
//----------------------------------------------------------------------------------------------------
int8_t CDataStreamFile::LoadInt8(void)
{
 return(Load<int8_t>());
}
//----------------------------------------------------------------------------------------------------
//загрузка числа типа int16_t
//----------------------------------------------------------------------------------------------------
int16_t CDataStreamFile::LoadInt16(void)
{
 return(Load<int16_t>());
}
//----------------------------------------------------------------------------------------------------
//загрузка числа типа int32_t
//----------------------------------------------------------------------------------------------------
int32_t CDataStreamFile::LoadInt32(void)
{
 return(Load<int32_t>());
}

//----------------------------------------------------------------------------------------------------
//загрузка числа типа uint8_t
//----------------------------------------------------------------------------------------------------
uint8_t CDataStreamFile::LoadUInt8(void)
{
 return(Load<uint8_t>());
}
//----------------------------------------------------------------------------------------------------
//загрузка числа типа uint16_t
//----------------------------------------------------------------------------------------------------
uint16_t CDataStreamFile::LoadUInt16(void)
{
 return(Load<uint16_t>());
}
//----------------------------------------------------------------------------------------------------
//загрузка числа типа uint32_t
//----------------------------------------------------------------------------------------------------
uint32_t CDataStreamFile::LoadUInt32(void)
{
 return(Load<uint32_t>());
}

//----------------------------------------------------------------------------------------------------
//загрузка числа типа float
//----------------------------------------------------------------------------------------------------
float CDataStreamFile::LoadFloat(void)
{
 return(Load<float>());
}
//----------------------------------------------------------------------------------------------------
//загрузка числа типа double
//----------------------------------------------------------------------------------------------------
double CDataStreamFile::LoadDouble(void)
{
 return(Load<double>());
}

//----------------------------------------------------------------------------------------------------
//запись числа типа int8_t
//----------------------------------------------------------------------------------------------------
void CDataStreamFile::SaveInt8(int8_t value)
{
 Save<int8_t>(value);
}
//----------------------------------------------------------------------------------------------------
//запись числа типа int16_t
//----------------------------------------------------------------------------------------------------
void CDataStreamFile::SaveInt16(int16_t value)
{
 Save<int16_t>(value);
}
//----------------------------------------------------------------------------------------------------
//запись числа типа int32_t
//----------------------------------------------------------------------------------------------------
void CDataStreamFile::SaveInt32(int32_t value)
{
 Save<int32_t>(value);
}

//----------------------------------------------------------------------------------------------------
//запись числа типа uint8_t
//----------------------------------------------------------------------------------------------------
void CDataStreamFile::SaveUInt8(int8_t value)
{
 Save<uint8_t>(value);
}
//----------------------------------------------------------------------------------------------------
//запись числа типа uint16_t
//----------------------------------------------------------------------------------------------------
void CDataStreamFile::SaveUInt16(int16_t value)
{
 Save<uint16_t>(value);
}
//----------------------------------------------------------------------------------------------------
//запись числа типа uint32_t
//----------------------------------------------------------------------------------------------------
void CDataStreamFile::SaveUInt32(int32_t value)
{
 Save<uint32_t>(value);
}
//----------------------------------------------------------------------------------------------------
//запись числа типа float
//----------------------------------------------------------------------------------------------------
void CDataStreamFile::SaveFloat(float value)
{
 Save<float>(value);
}
//----------------------------------------------------------------------------------------------------
//запись числа типа double
//----------------------------------------------------------------------------------------------------
void CDataStreamFile::SaveDouble(double value)
{
 Save<double>(value);
}
//----------------------------------------------------------------------------------------------------
//получить, была ли ошибка
//----------------------------------------------------------------------------------------------------
bool CDataStreamFile::IsFail(void) const
{
 return(Fail);
}
